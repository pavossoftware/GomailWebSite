function loaderCanvas(t,e){var i=new paper.PaperScope;i.setup(t);var n=i.view,r=i.Point,h=i.Path,s=i.Group;function o(t,e,i){this.build(t,e,i)}o.prototype={build:function(t,e,i){var o=.1*Math.min(n.size.width,n.size.height),a=1*(n.size.width-o),c=1*(n.size.height-o);this.fitRect=new h.Rectangle({point:[n.size.width/2-a/2,n.size.height/2-c/2],size:[a,c]}),this.circlePath=new h.Circle(t,e),this.group=new s([this.circlePath]),this.group.position=n.center,this.circlePath.fillColor=i,this.circlePath.fullySelected=!1;var l=e/200;this.threshold=e,this.center=t,this.controlCircle=this.circlePath.clone(),this.controlCircle.fullySelected=!1,this.controlCircle.visible=!1,this.circlePath.flatten(.5*e),this.circlePath.smooth(),this.circlePath.fitBounds(this.fitRect.bounds),this.settings=[];for(var m=0;m<this.circlePath.segments.length;m++){var u=this.circlePath.segments[m];this.settings[m]={relativeX:u.point.x-this.center.x,relativeY:u.point.y-this.center.y,offsetX:l,offsetY:l,momentum:new r(0,0)}}},clear:function(){this.circlePath.remove(),this.fitRect.remove()},animate:function(t){this.group.rotate(-1,n.center);for(var e=0;e<this.circlePath.segments.length;e++){var i=this.circlePath.segments[e],h=this.settings[e],s=new r(h.relativeX+this.center.x,h.relativeY+this.center.y);s=this.controlCircle.segments[e].point;var o=new r(0,0);o=new r(this.center._owner.width/this.center._owner.height*Math.floor(2*Math.random()+1),this.center._owner.width/this.center._owner.height*Math.floor(2*Math.random()+1));var a=s.add(o),c=i.point.subtract(a);h.momentum=h.momentum.subtract(c.divide(5)),h.momentum=h.momentum.multiply(.2);var l=h.offsetX,m=h.offsetY,u=Math.sin(t.time+1*e),d=Math.cos(t.time+1*e);h.momentum=h.momentum.add(new r(d*-l*2,u*-m*2)),i.point=i.point.add(h.momentum)}}};var a=Math.min(n.size.width,n.size.height)/2.5,c=new o(n.bounds.center,a,e);n.onFrame=function(t){c.animate(t)}}function loadBubbles(t){for(var e=0;e<t.length;e++){var i=t[e],n=i.getAttribute("data-fill");i.setAttribute("id","bubble-"+e),loaderCanvas(i.id,n)}}window.onload=function(){loadBubbles(document.querySelectorAll(".bubble"))};
